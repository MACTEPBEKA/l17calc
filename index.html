<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<title>Калькулятор урона</title>
</head>
<body>

<style>
.Row {
    display: table;
    width: 90%; /*Optional*/
    table-layout: fixed; /*Optional*/
    border-spacing: 10px; /*Optional*/
}
.Column {
    display: table-cell;
}
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
</style>
<script>
	function get_dmg() {
		if (stab.checked){
			stab_coef = 1.5;
		} else {
			stab_coef = 1;
		}
		
		switch (type.value) {
			case "x025":
				type_coef = 0.25;
				break;
			case "x05":
				type_coef = 0.5;
				break;
			case "x1":
				type_coef = 1;
				break;
			case "x2":
				type_coef = 2;
				break;
			case "x4":
				type_coef = 4;
				break;
			default:
				alert("Error!");
				break;
		}
		
		min_dmg.textContent = ((2*lvl.value + 10)/250*att.value/def.value*base.value + 2)*stab_coef*type_coef*0.85;
		max_dmg.textContent = ((2*lvl.value + 10)/250*att.value/def.value*base.value + 2)*stab_coef*type_coef*1;
		maxcrit_dmg.textContent = ((2*lvl.value + 10)/250*att.value/def.value*base.value + 2)*stab_coef*type_coef*1.5;
	}
	function test() {
		lvl.value = 78;
		att.value = 245;
		def.value = 261;
		base.value = 40;
		stab.checked = true;
	}
</script>	
	
	<div name="dmg_calc">
	
		<div class="Row">
			<div class="Column">
				Уровень
				<div>
					<input id="lvl" type="number" >
				</div>
			</div>
			<div class="Column">
				Мощность
				<div>
					<input id="base" type="number" >
				</div>
			</div>
			<div class="Column">
				Стат атаки
				<div>
					<input id="att" type="number" >
				</div>
			</div>
			<div class="Column">
				Стат защиты
				<div>
					<input id="def" type="number" >
				</div>
			</div>
			<div class="Column">
				Эффективность атаки
				<div>
					<select id="type">
						<option value="x025">x0.25</option>
						<option value="x05">x0.5</option>
						<option value="x1" selected="selected">x1</option>
						<option value="x2">x2</option>
						<option value="x4">x4</option>
					</select>
				</div>
			</div>
			<div class="Column">
				Стабовая
				<div>
					<input id="stab" type="checkbox" >
				</div>
			</div>
			<div class="Column">
				Предмет
				<div>
					<select id="item">
						<option value="None" selected="selected">Отсутствует</option>
						<option value="x1.1">Стабовый</option>
						<option value="x1.25">Сфера ярости</option>
					</select>
				</div>
			</div>
		</div>
		<div class="Row">
			<div class="Column">
				В огне
				<div>
					<input id="in_fire" type="checkbox" >
				</div>
			</div>
			<div class="Column">
				Экран
				<div>
					<input id="screen" type="checkbox" >
				</div>
			</div>
			<div class="Column">
				Модификация атаки
				<div>
					<select id="mod_att">
						<option value="x-6">-6</option>
						<option value="x-5">-5</option>
						<option value="x-4">-4</option>
						<option value="x-3">-3</option>
						<option value="x-2">-2</option>
						<option value="x-1">-1</option>
						<option value="x0" selected="selected">0</option>
						<option value="x+1">+1</option>
						<option value="x+2">+2</option>
						<option value="x+3">+3</option>
						<option value="x+4">+4</option>
						<option value="x+5">+5</option>
						<option value="x+6">+6</option>
					</select>
				</div>
			</div>
			<div class="Column">
				Модификация защиты
				<div>
					<select id="mod_def">
						<option value="x-6">-6</option>
						<option value="x-5">-5</option>
						<option value="x-4">-4</option>
						<option value="x-3">-3</option>
						<option value="x-2">-2</option>
						<option value="x-1">-1</option>
						<option value="x0" selected="selected">0</option>
						<option value="x+1">+1</option>
						<option value="x+2">+2</option>
						<option value="x+3">+3</option>
						<option value="x+4">+4</option>
						<option value="x+5">+5</option>
						<option value="x+6">+6</option>
					</select>
				</div>
			</div>
			<div class="Column">
			
			</div>
			<div class="Column">
			</div>
			<div class="Column">
				Абсорбер
				<div>
					<input id="absorb" type="checkbox" >
				</div>
			</div>
		</div>
		
		<button id="calc_dmg" onclick="get_dmg()">Вычислить урон</button>
		<button id="calc_dmg" onclick="test()">Тест</button>
		
		<div class="Row">
			<div class="Column">
				Минимальный урон
				<div id="min_dmg">
					
				</div>
			</div>
			<div class="Column">
				Максимальный урон
				<div id="max_dmg">
				
				</div>
			</div>
			<div class="Column">
				Максимальный урон c крита
				<div id="maxcrit_dmg">
				
				</div>
			</div>
			<div class="Column">
			</div>
			<div class="Column">
			</div>
			<div class="Column">
			</div>
			<div class="Column">
			</div>
		</div>
	</div>
	
	
</body>
</html>